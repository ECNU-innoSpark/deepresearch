# =============================================================================
# Deep Research System - 多LLM配置示例
# =============================================================================
# 
# 本文件展示如何为不同Agent配置不同的LLM API
# 复制此文件为 settings.yaml 并根据需要修改
#
# 策略建议:
# - 任务拆解/规划: 使用中等模型即可
# - 执行/筛选: 可使用便宜的模型节省成本
# - 写作/审查: 建议使用高质量模型确保输出质量
# =============================================================================

llm:
  # 默认配置 (当Agent没有特定配置时使用)
  default:
    base_url: "http://49.51.37.239:3006/v1"
    api_key: "${OPENAI_API_KEY}"
    model: "gpt-4o-mini"
    temperature: 0.7
    max_tokens: 4096
    timeout: 60

  # ==========================================================================
  # Agent 特定配置
  # 每个Agent可以覆盖任意配置项，包括完全不同的API提供商
  # ==========================================================================
  agents:
    
    # --------------------------------------------------------------------------
    # 任务拆解Agent - 使用DeepSeek (高性价比)
    # --------------------------------------------------------------------------
    decompose:
      base_url: "http://49.51.37.239:3006/v1"
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-5.2"
      temperature: 0.5
      max_tokens: 4096

    # --------------------------------------------------------------------------
    # 规划Agent - 使用Qwen
    # --------------------------------------------------------------------------
    plan:
      base_url: "http://49.51.37.239:3006/v1"
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-5.2"
      temperature: 0.3
      max_tokens: 8192

    # --------------------------------------------------------------------------
    # 执行Agent - 使用本地Ollama (免费)
    # --------------------------------------------------------------------------
    execution:
      base_url: "http://49.51.37.239:3006/v1"
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-5.2"
      temperature: 0.5
      max_tokens: 16384
      timeout: 120  # 本地模型可能需要更长时间

    # --------------------------------------------------------------------------
    # 筛选Agent - 使用Moonshot (Kimi)
    # --------------------------------------------------------------------------
    selection:
      base_url: "http://49.51.37.239:3006/v1"
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-5.2"
      temperature: 0.2
      max_tokens: 16384

    # --------------------------------------------------------------------------
    # 写作Agent - 使用GPT-4o (高质量输出)
    # --------------------------------------------------------------------------
    writing:
      base_url: "http://49.51.37.239:3006/v1"
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-5.2"
      temperature: 0.7
      max_tokens: 32768

    # --------------------------------------------------------------------------
    # 审查Agent - 使用智谱GLM-4
    # --------------------------------------------------------------------------
    review:
      base_url: "http://49.51.37.239:3006/v1"
      api_key: "${OPENAI_API_KEY}"
      model: "gpt-5.2"
      temperature: 0.3
      max_tokens: 8192


# =============================================================================
# 工作流配置
# =============================================================================
workflow:
  max_sub_tasks: 5
  max_revisions: 3
  min_citations: 30
  tool_timeout_seconds: 60
  
  selection:
    min_relevance: 0.5
    min_confidence: 0.6
    rag_priority_threshold: 0.8
    max_selected_items: 50


# =============================================================================
# 输出配置
# =============================================================================
output:
  format: "markdown"
  citation_style: "numeric"
  include_toc: true
  output_dir: "./output"


# =============================================================================
# 日志配置
# =============================================================================
logging:
  level: "INFO"
  format: "structured"
  log_file: "./logs/deep_research.log"


# =============================================================================
# 其他可用的API端点参考
# =============================================================================
# 
# OpenAI:
#   base_url: https://api.openai.com/v1
#   models: gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-3.5-turbo
#
# DeepSeek:
#   base_url: https://api.deepseek.com/v1
#   models: deepseek-chat, deepseek-coder
#
# 阿里云 Qwen:
#   base_url: https://dashscope.aliyuncs.com/compatible-mode/v1
#   models: qwen-turbo, qwen-plus, qwen-max, qwen-long
#
# 智谱 GLM:
#   base_url: https://open.bigmodel.cn/api/paas/v4
#   models: glm-4-plus, glm-4, glm-4-air, glm-4-flash
#
# Moonshot (Kimi):
#   base_url: https://api.moonshot.cn/v1
#   models: moonshot-v1-8k, moonshot-v1-32k, moonshot-v1-128k
#
# 百川:
#   base_url: https://api.baichuan-ai.com/v1
#   models: Baichuan4, Baichuan3-Turbo
#
# 零一万物 (Yi):
#   base_url: https://api.lingyiwanwu.com/v1
#   models: yi-large, yi-medium, yi-spark
#
# Ollama (本地):
#   base_url: http://localhost:11434/v1
#   models: llama3.2, qwen2.5, mistral, codellama
#
# OneAPI/NewAPI (中转):
#   base_url: http://your-server:3000/v1
#   models: 根据配置的上游渠道
# =============================================================================
